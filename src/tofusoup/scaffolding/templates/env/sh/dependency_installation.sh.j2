# --- Dependency Installation ---
print_header "ðŸ“¦ Installing Dependencies"

{% if create_log_dir %}
# Create log directory
mkdir -p /tmp/{{ project_name }}_setup
{% endif %}

echo -n "Syncing dependencies..."
{% if use_spinner %}
uv sync --all-groups > /tmp/{{ project_name }}_setup/sync.log 2>&1 &
SYNC_PID=$!
spinner $SYNC_PID
wait $SYNC_PID
if [ $? -eq 0 ]; then
    print_success "Dependencies synced"
else
    print_error "Dependency sync failed. Check /tmp/{{ project_name }}_setup/sync.log"
    return 1 2>/dev/null || exit 1
fi
{% else %}
uv sync --all-groups
print_success "Dependencies synced"
{% endif %}

echo -n "Installing {{ project_name }} in editable mode..."
{% if use_spinner %}
uv pip install --no-deps -e . > /tmp/{{ project_name }}_setup/install.log 2>&1 &
spinner $!
{% else %}
uv pip install --no-deps -e .
{% endif %}
print_success "{{ project_name }} installed"