# --- Project Validation ---
if [ ! -f "pyproject.toml" ]; then
    print_error "No 'pyproject.toml' found in current directory"
    echo "Please run this script from the {{ project_name }} root directory"
    return 1 2>/dev/null || exit 1
fi

PROJECT_NAME=$(basename "$(pwd)")
{% if strict_project_check %}
if [ "$PROJECT_NAME" != "{{ project_name }}" ]; then
    print_warning "This script is optimized for {{ project_name }} but running in '${PROJECT_NAME}'"
fi
{% endif %}